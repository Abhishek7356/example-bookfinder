<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
</head>

<body class="bg-dark">
    <section>
        <div class="container mt-5">
            <div class="row">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                    <div class="d-flex ">
                        <input id="book" type="text" placeholder="Enter book title" class="shadow form-control">
                        <button onclick="displayBook()" class="btn btn-warning ms-1 shadow">search</button>
                    </div>
                    <div id="title" class="mt-4 text-center text-light">
                        
                    </div>
                </div>
                <div class="col-md-4"></div>
            </div>
        </div>
    </section>

    <script>

        const catalog = [
            { title: "The Great Gatsby", author: "F. Scott Fitzgerald", availability: true },
            { title: "To Kill a Mockingbird", author: "Harper Lee", availability: false },
            { title: "1984", author: "George Orwell", availability: true },

        ];

        const search = document.getElementById('book');

        // You are building a simple application for a library. You need to implement a function called findBook that simulates finding a book by its title in the library's catalog. However, there are some special requirements:
        
        // If the book with the specified title is found, the function should return the book's information as an object with properties: title, author, and availability.

        // If the book is not found, the function should throw a custom error with the message: "Book not found in catalog."

        // Regardless of whether the book is found or not, you need to ensure that a specific cleanup action, such as logging, always occurs after the function is executed.

        // Write the findBook function that implements these requirements using a try-catch-finally block.

        // Sample catalog of book

        function displayBook() {
            try{
                let searchBook = catalog.find((value)=> value.title == search.value)
                console.log(searchBook);
                document.getElementById('title').innerHTML = `
                    <p class="text-light shadow border border-1 border-warning rounded p-1">Title : ${searchBook.title}</p>
                    <p class="text-light shadow border border-1 border-warning rounded p-1">Author : ${searchBook.author}</p>
                    <p class="text-light shadow border border-1 border-warning rounded p-1">Availability :  ${searchBook.availability}</p>
                `;
            }catch{
                document.getElementById('title').innerHTML = 'Book not found in catalog.';
            }
        }


    </script>
</body>

</html>